import{S as u}from"./store.manager-BM5QwCZ2.js";import{c as y,u as D}from"./zip-CDurRATR.js";import{r as T,o as p,c as h,d as t,E as A,g as w,v as k,u as d,z as I,s as N,f as R,P as U,Q as z,a as S,e as L}from"./index-BB0G7pGz.js";import{c as P}from"./cars-O8Hh7Dpv.js";const G={id:0,"Throttle Body":{id:1,lv:4,cost:[25,50,75,100]},"Fuel System":{id:2,lv:4,cost:[25,50,75,100]},Ignition:{id:3,lv:4,cost:[]},Exaust:{id:4,lv:4,cost:[]},Camshaft:{id:5,lv:4,cost:[]},Valves:{id:6,lv:4,cost:[]},Displacement:{id:7,lv:4,cost:[]},Pistons:{id:8,lv:4,cost:[]},Oil:{id:9,lv:4,cost:[]},Flywheel:{id:10,lv:4,cost:[]}},H={id:2,Clutch:{id:0,lv:4,cost:[]},Transmission:{id:1,lv:4,cost:[]},Driveline:{id:2,lv:4,cost:[]},Differential:{id:3,lv:4,cost:[]}},F=2,f={Engine:G,"Plataform and Handling":{id:1,Brakes:{id:0,lv:4,cost:[]},"Spring and dampers":{id:1,lv:4,cost:[]},"Font Anti-Roll Bars":{id:2,lv:4,cost:[]},"Chassis Reinforcement":{id:3,lv:4,cost:[]},"Weight reduction":{id:4,lv:4,cost:[]}},Drivetrain:H,"Tires and Rims":{id:3,"Tire Compound":{id:0,lv:4,cost:[]},"Front Tire Width":{id:1,lv:4,cost:[]},"Rear Tire Width":{id:2,lv:4,cost:[]},"Rim Style":{id:3,lv:4,cost:[]}},"Aero and  Appearance":{id:4,"Front Bumper":{id:0,lv:4,cost:[]},"Rear Wing":{id:1,lv:4,cost:[]},"Rear Bumper":{id:2,lv:4,cost:[]}},Conversion:F},M={class:"text-center mt-3"},j={class:"card-subt"},V={class:"d-inline-block"},W=["onClick"],X={class:"card-subt card-content"},Y=t("div",{class:"d-inline-block position-relative",style:{left:"-35%","font-size":"25px"}},null,-1),q={class:"d-inline-block"},Q=t("br",null,null,-1),J={class:"w-100"},K=t("br",null,null,-1),Z=t("img",{class:"coins",src:"https://static.vecteezy.com/system/resources/thumbnails/010/851/211/small/3d-illustration-golden-money-coins-png.png",alt:""},null,-1),tt={class:"coin-label",style:{color:"#000000"},for:""},et={__name:"Update.component",props:{name:String,car:Number},setup(n){const s=n,e=Object.keys(f[s.name]),o=T(!0),l=u.get("save"),c=l.cars.filter(i=>i.id==s.car)[0],v=l.cars.indexOf(c),O=(i,b)=>{const{updates_car:a}=x(i);if(a!=-1){const r=c.updates[a].lv;if(b<=r)return"content-container-selected"}return""},x=i=>{const b=f[s.name].id,a=f[s.name][i].id,r=c.updates.indexOf(c.updates.filter(g=>g.id==b&&g.sub_id==a)[0]);return{id:b,sub_id:a,updates_car:r}},_=i=>{const{id:b,sub_id:a,updates_car:r}=x(i),g=f[s.name][i].cost;if(r!=-1){const C=c.updates[r].lv;return C<g.length?g[C]:"MAX!"}else return g[0]},m=i=>{const{id:b,sub_id:a,updates_car:r}=x(i),g=c.coins;let C=f[s.name][i].cost;r===-1?C[0]<=g?confirm("Are you sure you want to buy this upgrade?")&&(l.cars[v].coins-=C[0],l.cars[v].updates.push({id:b,sub_id:a,lv:1}),y(l)):alert("NOT ENOUGHT COINS... GO AND RACE!!"):(C=f[s.name][i].cost[c.updates[r].lv],c.updates[r].lv<f[s.name][i].cost.length?C<=g?confirm("Are you sure you want to buy this upgrade?")&&(l.cars[v].coins-=C,l.cars[v].updates[r].lv++,y(l)):alert("NOT ENOUGHT COINS... GO AND RACE!!"):alert("CONGRATULATIONS, YOU ALREADY BOUGHT ALL THE UPGRADES"))};return(i,b)=>(p(),h("div",M,[t("div",j,[t("h2",V,A(n.name),1)]),o.value?(p(!0),h(w,{key:0},k(d(e),a=>(p(),h(w,null,[a!="id"?(p(),h("div",{key:0,onClick:r=>m(a)},[t("div",X,[Y,t("h2",q,A(a),1),Q,t("div",J,[(p(!0),h(w,null,k(d(f)[n.name][a].lv,r=>(p(),h("div",{class:I(`content-container ${O(a,r)}`)},null,2))),256)),K,t("div",null,[Z,t("label",tt,A(_(a)),1)])])])],8,W)):N("",!0)],64))),256)):N("",!0)]))}},st=()=>{Swal.fire({title:"UPDATE COINS",html:`
      <label>ACTUAL COINS: ${u.get("save").coins}</label>
            
      `,input:"number",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,showLoaderOnConfirm:!0,preConfirm:n=>{const s=u.get("save");s.coins=parseInt(n),u.save("save",s),y(s)},customClass:u.get("custom_style")[0]}),document.getElementById("swal2-html-container").className+=" title-cus"},nt=t("div",{class:"margin-btn-cont"},null,-1),ot={class:"btn-cont"},it={__name:"Update_Coins",setup(n){return(s,e)=>(p(),h(w,null,[nt,t("div",ot,[t("button",{onClick:e[0]||(e[0]=o=>d(st)()),class:"btn-upd-coins"},"UPDATE COINS")])],64))}},$=n=>{const e=5e3*n*.8;return 8e4*n+e+8e4*n*.8};for(let n=0;n<5;n++)console.log($(n));const B=(n,s)=>{let e=s,o=0;do{const l=$(e);console.log(l),n>=l?(o++,e++):e=100*100*100+410}while(e<100*100*100);return o},lt=n=>{Swal.fire({title:"ADD COINS",input:"number",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,showLoaderOnConfirm:!0,preConfirm:s=>{const e=u.get("save"),o=e.cars.indexOf(e.cars.filter(c=>c.id==n)[0]);e.cars[o].exp+=parseInt(s);const l=B(e.cars[o].exp,e.cars[o].level);console.log(l),e.cars[o].level+=l,e.cars[o].coins+=l,y(e)}})},ct=n=>{Swal.fire({title:"DEC COINS",input:"number",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,showLoaderOnConfirm:!0,preConfirm:s=>{const e=u.get("save"),o=e.cars.indexOf(e.cars.filter(c=>c.id==n)[0]);e.cars[o].exp-=parseInt(s);const l=B(e.cars[o].exp,1)+1;e.cars[o].coins-=e.cars[o].level-l,e.cars[o].level=l,y(e)}})},E=(n,s)=>{n=="add"?lt(s):n=="dec"&&ct(s)},at=(n,s)=>s/n*100,rt=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"currentColor",class:"bi bi-arrow-left",viewBox:"0 0 16 16"},[t("path",{"fill-rule":"evenodd",d:"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8"})],-1),dt=[rt],ut={class:"text-center"},vt={class:"title"},_t={id:"prog-cont"},mt={class:"text-center",id:"progress-empty"},pt={class:"label-prog",for:""},ht={id:"car-img"},ft=["src"],gt={style:{"margin-bottom":"5%"}},bt=t("img",{class:"coins",src:"https://static.vecteezy.com/system/resources/thumbnails/010/851/211/small/3d-illustration-golden-money-coins-png.png",alt:""},null,-1),Ct={class:"coin-label",for:""},wt={class:"text-center"},yt=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"currentColor",class:"bi bi-plus-lg",viewBox:"0 0 16 16"},[t("path",{"fill-rule":"evenodd",d:"M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2"})],-1),xt=[yt],At=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"currentColor",class:"bi bi-dash",viewBox:"0 0 16 16"},[t("path",{d:"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8"})],-1),Ot=[At],$t={key:0},Tt={__name:"Car",setup(n){const s=R(),e=s.params.marca,o=P.filter(_=>_.name==s.params.car)[0],l=o.url||"https://images5.alphacoders.com/929/929552.jpg";localStorage.getItem(u.get("API_NAME"))==null?y(u.get("save")):u.save("save",D());const c=u.get("save");c.cars.filter(_=>_.id==o.id)[0]==null&&(c.cars.push({id:o.id,exp:0,coins:0,updates:[],level:1}),u.save("save",c),y(u.get("save")));const v=c.cars.filter(_=>_.id==o.id)[0],O=U(()=>{const _=$(v.level-1);let m=$(v.level);m-=_;const i=v.exp-_;return Math.floor(at(m,i))}),x=Object.keys(f);return Object.keys(f[x[0]]),T(!0),(_,m)=>(p(),h(w,null,[t("div",null,[t("button",{class:"back-btn btn",onClick:m[0]||(m[0]=i=>d(L)(d(e)))},dt)]),t("div",ut,[t("h3",vt,A(d(o).name),1)]),t("div",null,[t("div",_t,[t("div",mt,[t("label",pt,A(O.value)+"%",1)]),t("div",{id:"progress-fill",style:z(`width: ${O.value}%;`)},null,4)])]),t("div",ht,[t("img",{style:{width:"100%"},src:d(l),alt:""},null,8,ft)]),t("div",gt,[bt,t("label",Ct,A(d(v).coins),1)]),t("div",wt,[t("button",{onClick:m[1]||(m[1]=i=>d(E)("add",d(v).id)),class:"btn-add"},xt),t("button",{onClick:m[2]||(m[2]=i=>d(E)("dec",d(v).id)),class:"btn-dec"},Ot)]),(p(!0),h(w,null,k(d(x),i=>(p(),h(w,null,[i!=="Conversion"?(p(),h("div",$t,[S(et,{car:d(v).id,name:i},null,8,["car","name"])])):N("",!0)],64))),256)),S(it)],64))}};export{Tt as default};
