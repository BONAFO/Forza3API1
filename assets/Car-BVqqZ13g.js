import{S as _}from"./store.manager-Cv4kwIMo.js";import{c as A,u as I}from"./zip-B76VjmLK.js";import{r as B,o as p,c as h,d as t,E as O,g as x,v as N,u as d,z as R,s as S,f as U,P as z,Q as L,a as E,e as P}from"./index-C48mS-ui.js";import{c as G}from"./cars-O8Hh7Dpv.js";const H={id:0,"Throttle Body":{id:1,lv:4,cost:[25,50,75,100]},"Fuel System":{id:2,lv:4,cost:[25,50,75,100]},Ignition:{id:3,lv:4,cost:[]},Exaust:{id:4,lv:4,cost:[]},Camshaft:{id:5,lv:4,cost:[]},Valves:{id:6,lv:4,cost:[]},Displacement:{id:7,lv:4,cost:[]},Pistons:{id:8,lv:4,cost:[]},Oil:{id:9,lv:4,cost:[]},Flywheel:{id:10,lv:4,cost:[]}},F={id:2,Clutch:{id:0,lv:4,cost:[]},Transmission:{id:1,lv:4,cost:[]},Driveline:{id:2,lv:4,cost:[]},Differential:{id:3,lv:4,cost:[]}},M=2,g={Engine:H,"Plataform and Handling":{id:1,Brakes:{id:0,lv:4,cost:[]},"Spring and dampers":{id:1,lv:4,cost:[]},"Font Anti-Roll Bars":{id:2,lv:4,cost:[]},"Chassis Reinforcement":{id:3,lv:4,cost:[]},"Weight reduction":{id:4,lv:4,cost:[]}},Drivetrain:F,"Tires and Rims":{id:3,"Tire Compound":{id:0,lv:4,cost:[]},"Front Tire Width":{id:1,lv:4,cost:[]},"Rear Tire Width":{id:2,lv:4,cost:[]},"Rim Style":{id:3,lv:4,cost:[]}},"Aero and  Appearance":{id:4,"Front Bumper":{id:0,lv:4,cost:[]},"Rear Wing":{id:1,lv:4,cost:[]},"Rear Bumper":{id:2,lv:4,cost:[]}},Conversion:M},j={class:"text-center mt-3"},V={class:"d-inline-block"},W=["onClick"],X={class:"card-subt card-content"},Y=t("div",{class:"d-inline-block position-relative",style:{left:"-35%","font-size":"25px"}},null,-1),q={class:"d-inline-block"},Q=t("br",null,null,-1),J={class:"w-100"},K=t("br",null,null,-1),Z=t("img",{class:"coins",src:"https://static.vecteezy.com/system/resources/thumbnails/010/851/211/small/3d-illustration-golden-money-coins-png.png",alt:""},null,-1),tt={class:"coin-label",style:{color:"#000000"},for:""},et={__name:"Update.component",props:{name:String,car:Number},setup(n){const s=n,e=Object.keys(g[s.name]),o=B(!1),u=()=>{o.value=!o.value},l=_.get("save"),i=l.cars.filter(a=>a.id==s.car)[0],y=l.cars.indexOf(i),$=(a,f)=>{const{updates_car:c}=v(a);if(c!=-1){const r=i.updates[c].lv;if(f<=r)return"content-container-selected"}return""},v=a=>{const f=g[s.name].id,c=g[s.name][a].id,r=i.updates.indexOf(i.updates.filter(C=>C.id==f&&C.sub_id==c)[0]);return{id:f,sub_id:c,updates_car:r}},m=a=>{const{id:f,sub_id:c,updates_car:r}=v(a),C=g[s.name][a].cost;if(r!=-1){const w=i.updates[r].lv;return w<C.length?C[w]:"MAX!"}else return C[0]},b=a=>{const{id:f,sub_id:c,updates_car:r}=v(a),C=i.coins;let w=g[s.name][a].cost;r===-1?w[0]<=C?confirm("Are you sure you want to buy this upgrade?")&&(l.cars[y].coins-=w[0],l.cars[y].updates.push({id:f,sub_id:c,lv:1}),A(l)):alert("NOT ENOUGHT COINS... GO AND RACE!!"):(w=g[s.name][a].cost[i.updates[r].lv],i.updates[r].lv<g[s.name][a].cost.length?w<=C?confirm("Are you sure you want to buy this upgrade?")&&(l.cars[y].coins-=w,l.cars[y].updates[r].lv++,A(l)):alert("NOT ENOUGHT COINS... GO AND RACE!!"):alert("CONGRATULATIONS, YOU ALREADY BOUGHT ALL THE UPGRADES"))};return(a,f)=>(p(),h("div",j,[t("div",{class:"card-subt",onClick:f[0]||(f[0]=c=>u())},[t("h2",V,O(n.name),1)]),o.value?(p(!0),h(x,{key:0},N(d(e),c=>(p(),h(x,null,[c!="id"?(p(),h("div",{key:0,onClick:r=>b(c)},[t("div",X,[Y,t("h2",q,O(c),1),Q,t("div",J,[(p(!0),h(x,null,N(d(g)[n.name][c].lv,r=>(p(),h("div",{class:R(`content-container ${$(c,r)}`)},null,2))),256)),K,t("div",null,[Z,t("label",tt,O(m(c)),1)])])])],8,W)):S("",!0)],64))),256)):S("",!0)]))}},st=()=>{Swal.fire({title:"UPDATE COINS",html:`
      <label>ACTUAL COINS: ${_.get("save").coins}</label>
            
      `,input:"number",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,showLoaderOnConfirm:!0,preConfirm:n=>{const s=_.get("save");s.coins=parseInt(n),_.save("save",s),A(s)},customClass:_.get("custom_style")[0]}),document.getElementById("swal2-html-container").className+=" title-cus"},nt=t("div",{class:"margin-btn-cont"},null,-1),ot={class:"btn-cont"},lt={__name:"Update_Coins",setup(n){return(s,e)=>(p(),h(x,null,[nt,t("div",ot,[t("button",{onClick:e[0]||(e[0]=o=>d(st)()),class:"btn-upd-coins"},"UPDATE COINS")])],64))}},k=n=>{const e=5e3*n*.8;return 8e4*n+e+8e4*n*.8};for(let n=0;n<5;n++)console.log(k(n));const D=(n,s)=>{let e=s,o=0;do{const u=k(e);console.log(u),n>=u?(o++,e++):e=100*100*100+410}while(e<100*100*100);return o},it=n=>{Swal.fire({title:"ADD COINS",input:"number",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,showLoaderOnConfirm:!0,preConfirm:s=>{const e=_.get("save"),o=e.cars.indexOf(e.cars.filter(l=>l.id==n)[0]);e.cars[o].exp+=parseInt(s);const u=D(e.cars[o].exp,e.cars[o].level);console.log(u),e.cars[o].level+=u,e.cars[o].coins+=u,A(e)}})},ct=n=>{Swal.fire({title:"DEC COINS",input:"number",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,showLoaderOnConfirm:!0,preConfirm:s=>{const e=_.get("save"),o=e.cars.indexOf(e.cars.filter(l=>l.id==n)[0]);e.cars[o].exp-=parseInt(s);const u=D(e.cars[o].exp,1)+1;e.cars[o].coins-=e.cars[o].level-u,e.cars[o].level=u,A(e)}})},T=(n,s)=>{n=="add"?it(s):n=="dec"&&ct(s)},at=(n,s)=>s/n*100,rt=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"currentColor",class:"bi bi-arrow-left",viewBox:"0 0 16 16"},[t("path",{"fill-rule":"evenodd",d:"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8"})],-1),dt=[rt],ut={class:"text-center"},vt={class:"title"},_t={id:"prog-cont"},mt={class:"text-center",id:"progress-empty"},pt={class:"label-prog",for:""},ht={id:"car-img"},ft=["src"],gt={style:{"margin-bottom":"5%"}},bt=t("img",{class:"coins",src:"https://static.vecteezy.com/system/resources/thumbnails/010/851/211/small/3d-illustration-golden-money-coins-png.png",alt:""},null,-1),Ct={class:"coin-label",for:""},wt={class:"text-center"},yt=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"currentColor",class:"bi bi-plus-lg",viewBox:"0 0 16 16"},[t("path",{"fill-rule":"evenodd",d:"M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2"})],-1),xt=[yt],At=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"currentColor",class:"bi bi-dash",viewBox:"0 0 16 16"},[t("path",{d:"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8"})],-1),Ot=[At],$t={key:0},Tt={__name:"Car",setup(n){const s=U(),e=s.params.marca,o=G.filter(v=>v.name==s.params.car)[0],u=o.url||"https://images5.alphacoders.com/929/929552.jpg";localStorage.getItem(_.get("API_NAME"))==null?A(_.get("save")):_.save("save",I());const l=_.get("save");l.cars.filter(v=>v.id==o.id)[0]==null&&(l.cars.push({id:o.id,exp:0,coins:0,updates:[],level:1}),_.save("save",l),A(_.get("save")));const i=l.cars.filter(v=>v.id==o.id)[0],y=z(()=>{const v=k(i.level-1);let m=k(i.level);m-=v;const b=i.exp-v;return Math.floor(at(m,b))}),$=Object.keys(g);return Object.keys(g[$[0]]),B(!0),(v,m)=>(p(),h(x,null,[t("div",null,[t("button",{class:"back-btn btn",onClick:m[0]||(m[0]=b=>d(P)(d(e)))},dt)]),t("div",ut,[t("h3",vt,O(d(o).name),1)]),t("div",null,[t("div",_t,[t("div",mt,[t("label",pt,O(y.value)+"%",1)]),t("div",{id:"progress-fill",style:L(`width: ${y.value}%;`)},null,4)])]),t("div",ht,[t("img",{style:{width:"100%"},src:d(u),alt:""},null,8,ft)]),t("div",gt,[bt,t("label",Ct,O(d(i).coins),1)]),t("div",wt,[t("button",{onClick:m[1]||(m[1]=b=>d(T)("add",d(i).id)),class:"btn-add"},xt),t("button",{onClick:m[2]||(m[2]=b=>d(T)("dec",d(i).id)),class:"btn-dec"},Ot)]),(p(!0),h(x,null,N(d($),b=>(p(),h(x,null,[b!=="Conversion"?(p(),h("div",$t,[E(et,{car:d(i).id,name:b},null,8,["car","name"])])):S("",!0)],64))),256)),E(lt)],64))}};export{Tt as default};
