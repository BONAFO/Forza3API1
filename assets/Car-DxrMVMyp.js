import{S as _}from"./store.manager-DXkBNABf.js";import{c as A,u as I}from"./zip-BVpF6UgN.js";import{r as B,o as p,c as h,d as t,E as O,g as x,v as k,u as d,z as R,s as N,f as U,P as z,Q as L,a as E,e as P}from"./index-DD2YO3cD.js";import{c as G}from"./cars-XHwj8gwp.js";const H={id:0,"Throttle Body":{id:1,lv:4,cost:[25,50,75,100]},"Fuel System":{id:2,lv:4,cost:[25,50,75,100]},Ignition:{id:3,lv:4,cost:[]},Exaust:{id:4,lv:4,cost:[]},Camshaft:{id:5,lv:4,cost:[]},Valves:{id:6,lv:4,cost:[]},Displacement:{id:7,lv:4,cost:[]},Pistons:{id:8,lv:4,cost:[]},Oil:{id:9,lv:4,cost:[]},Flywheel:{id:10,lv:4,cost:[]}},F={id:2,Clutch:{id:0,lv:4,cost:[]},Transmission:{id:1,lv:4,cost:[]},Driveline:{id:2,lv:4,cost:[]},Differential:{id:3,lv:4,cost:[]}},M=2,g={Engine:H,"Plataform and Handling":{id:1,Brakes:{id:0,lv:4,cost:[]},"Spring and dampers":{id:1,lv:4,cost:[]},"Font Anti-Roll Bars":{id:2,lv:4,cost:[]},"Chassis Reinforcement":{id:3,lv:4,cost:[]},"Weight reduction":{id:4,lv:4,cost:[]}},Drivetrain:F,"Tires and Rims":{id:3,"Tire Compound":{id:0,lv:4,cost:[]},"Front Tire Width":{id:1,lv:4,cost:[]},"Rear Tire Width":{id:2,lv:4,cost:[]},"Rim Style":{id:3,lv:4,cost:[]}},"Aero and  Appearance":{id:4,"Front Bumper":{id:0,lv:4,cost:[]},"Rear Wing":{id:1,lv:4,cost:[]},"Rear Bumper":{id:2,lv:4,cost:[]}},Conversion:M},j={class:"text-center mt-3"},V={class:"d-inline-block"},W=["onClick"],X={class:"card-subt card-content"},Y=t("div",{class:"d-inline-block position-relative",style:{left:"-35%","font-size":"25px"}},null,-1),q={class:"d-inline-block"},Q=t("br",null,null,-1),J={class:"w-100"},K=t("br",null,null,-1),Z=t("img",{class:"coins",src:"https://static.vecteezy.com/system/resources/thumbnails/010/851/211/small/3d-illustration-golden-money-coins-png.png",alt:""},null,-1),tt={class:"coin-label",style:{color:"#000000"},for:""},et={__name:"Update.component",props:{name:String,car:Number},setup(o){const s=o,e=Object.keys(g[s.name]),n=B(!1),u=()=>{n.value=!n.value},i=_.get("save"),l=i.cars.filter(a=>a.id==s.car)[0],y=i.cars.indexOf(l),$=(a,f)=>{const{updates_car:c}=v(a);if(c!=-1){const r=l.updates[c].lv;if(f<=r)return"content-container-selected"}return""},v=a=>{const f=g[s.name].id,c=g[s.name][a].id,r=l.updates.indexOf(l.updates.filter(C=>C.id==f&&C.sub_id==c)[0]);return{id:f,sub_id:c,updates_car:r}},m=a=>{const{id:f,sub_id:c,updates_car:r}=v(a),C=g[s.name][a].cost;if(r!=-1){const w=l.updates[r].lv;return w<C.length?C[w]:"MAX!"}else return C[0]},b=a=>{const{id:f,sub_id:c,updates_car:r}=v(a),C=l.coins;let w=g[s.name][a].cost;r===-1?w[0]<=C?confirm("Are you sure you want to buy this upgrade?")&&(i.cars[y].coins-=w[0],i.cars[y].updates.push({id:f,sub_id:c,lv:1}),A(i)):alert("NOT ENOUGHT COINS... GO AND RACE!!"):(w=g[s.name][a].cost[l.updates[r].lv],l.updates[r].lv<g[s.name][a].cost.length?w<=C?confirm("Are you sure you want to buy this upgrade?")&&(i.cars[y].coins-=w,i.cars[y].updates[r].lv++,A(i)):alert("NOT ENOUGHT COINS... GO AND RACE!!"):alert("CONGRATULATIONS, YOU ALREADY BOUGHT ALL THE UPGRADES"))};return(a,f)=>(p(),h("div",j,[t("div",{class:"card-subt",onClick:f[0]||(f[0]=c=>u())},[t("h2",V,O(o.name),1)]),n.value?(p(!0),h(x,{key:0},k(d(e),c=>(p(),h(x,null,[c!="id"?(p(),h("div",{key:0,onClick:r=>b(c)},[t("div",X,[Y,t("h2",q,O(c),1),Q,t("div",J,[(p(!0),h(x,null,k(d(g)[o.name][c].lv,r=>(p(),h("div",{class:R(`content-container ${$(c,r)}`)},null,2))),256)),K,t("div",null,[Z,t("label",tt,O(m(c)),1)])])])],8,W)):N("",!0)],64))),256)):N("",!0)]))}},st=()=>{Swal.fire({title:"UPDATE COINS",html:`
      <label>ACTUAL COINS: ${_.get("save").coins}</label>
            
      `,input:"number",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,showLoaderOnConfirm:!0,preConfirm:o=>{const s=_.get("save");s.coins=parseInt(o),_.save("save",s),A(s)},customClass:_.get("custom_style")[0]}),document.getElementById("swal2-html-container").className+=" title-cus"},nt=t("div",{class:"margin-btn-cont"},null,-1),ot={class:"btn-cont"},it={__name:"Update_Coins",setup(o){return(s,e)=>(p(),h(x,null,[nt,t("div",ot,[t("button",{onClick:e[0]||(e[0]=n=>d(st)()),class:"btn-upd-coins"},"UPDATE COINS")])],64))}},S=o=>{const e=5e3*o*.8;return 8e4*o+e+8e4*o*.8},D=(o,s)=>{let e=s,n=0;do{const u=S(e);console.log(u),o>=u?(n++,e++):e=100*100*100+410}while(e<100*100*100);return n},lt=o=>{Swal.fire({title:"ADD COINS",input:"number",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,showLoaderOnConfirm:!0,preConfirm:s=>{const e=_.get("save"),n=e.cars.indexOf(e.cars.filter(i=>i.id==o)[0]);e.cars[n].exp+=parseInt(s);const u=D(e.cars[n].exp,e.cars[n].level);console.log(u),e.cars[n].level+=u,e.cars[n].coins+=u,A(e)}})},ct=o=>{Swal.fire({title:"DEC COINS",input:"number",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,showLoaderOnConfirm:!0,preConfirm:s=>{const e=_.get("save"),n=e.cars.indexOf(e.cars.filter(i=>i.id==o)[0]);e.cars[n].exp-=parseInt(s);const u=D(e.cars[n].exp,1)+1;e.cars[n].coins-=e.cars[n].level-u,e.cars[n].level=u,A(e)}})},T=(o,s)=>{o=="add"?lt(s):o=="dec"&&ct(s)},at=(o,s)=>s/o*100,rt=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"currentColor",class:"bi bi-arrow-left",viewBox:"0 0 16 16"},[t("path",{"fill-rule":"evenodd",d:"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8"})],-1),dt=[rt],ut={class:"text-center"},vt={class:"title"},_t={id:"prog-cont"},mt={class:"text-center",id:"progress-empty"},pt={class:"label-prog",for:""},ht={id:"car-img"},ft=["src"],gt={style:{"margin-bottom":"5%"}},bt=t("img",{class:"coins",src:"https://static.vecteezy.com/system/resources/thumbnails/010/851/211/small/3d-illustration-golden-money-coins-png.png",alt:""},null,-1),Ct={class:"coin-label",for:""},wt={class:"text-center"},yt=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"currentColor",class:"bi bi-plus-lg",viewBox:"0 0 16 16"},[t("path",{"fill-rule":"evenodd",d:"M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2"})],-1),xt=[yt],At=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"currentColor",class:"bi bi-dash",viewBox:"0 0 16 16"},[t("path",{d:"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8"})],-1),Ot=[At],$t={key:0},Tt={__name:"Car",setup(o){const s=U(),e=s.params.marca,n=G.filter(v=>v.name==s.params.car)[0],u=n.url||"https://images5.alphacoders.com/929/929552.jpg";localStorage.getItem(_.get("API_NAME"))==null?A(_.get("save")):_.save("save",I());const i=_.get("save");i.cars.filter(v=>v.id==n.id)[0]==null&&(i.cars.push({id:n.id,exp:0,coins:0,updates:[],level:1}),_.save("save",i),A(_.get("save")));const l=i.cars.filter(v=>v.id==n.id)[0],y=z(()=>{const v=S(l.level-1);let m=S(l.level);m-=v;const b=l.exp-v;return Math.floor(at(m,b))}),$=Object.keys(g);return Object.keys(g[$[0]]),B(!0),(v,m)=>(p(),h(x,null,[t("div",null,[t("button",{class:"back-btn btn",onClick:m[0]||(m[0]=b=>d(P)(d(e)))},dt)]),t("div",ut,[t("h3",vt,O(d(n).name),1)]),t("div",null,[t("div",_t,[t("div",mt,[t("label",pt,O(y.value)+"%",1)]),t("div",{id:"progress-fill",style:L(`width: ${y.value}%;`)},null,4)])]),t("div",ht,[t("img",{style:{width:"100%"},src:d(u),alt:""},null,8,ft)]),t("div",gt,[bt,t("label",Ct,O(d(l).coins),1)]),t("div",wt,[t("button",{onClick:m[1]||(m[1]=b=>d(T)("add",d(l).id)),class:"btn-add"},xt),t("button",{onClick:m[2]||(m[2]=b=>d(T)("dec",d(l).id)),class:"btn-dec"},Ot)]),(p(!0),h(x,null,k(d($),b=>(p(),h(x,null,[b!=="Conversion"?(p(),h("div",$t,[E(et,{car:d(l).id,name:b},null,8,["car","name"])])):N("",!0)],64))),256)),E(it)],64))}};export{Tt as default};
