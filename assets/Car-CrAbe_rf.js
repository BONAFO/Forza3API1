import{S as n}from"./store.manager-BdJmXoF6.js";import{c as _,u as x}from"./zip-BHEIeKqL.js";import{o as g,c as b,d as t,u as i,g as w,f as A,P as S,E as m,Q as y,a as I,e as O}from"./index-CfCyW646.js";import{c as k}from"./cars-O8Hh7Dpv.js";const B=()=>{Swal.fire({title:"UPDATE COINS",html:`
      <label>ACTUAL COINS: ${n.get("save").coins}</label>
            
      `,input:"number",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,showLoaderOnConfirm:!0,preConfirm:s=>{const l=n.get("save");l.coins=parseInt(s),n.save("save",l),_(l)},customClass:n.get("custom_style")[0]}),document.getElementById("swal2-html-container").className+=" title-cus"},N=t("div",{class:"margin-btn-cont"},null,-1),$={class:"btn-cont"},E={__name:"Update_Coins",setup(s){return(l,e)=>(g(),b(w,null,[N,t("div",$,[t("button",{onClick:e[0]||(e[0]=o=>i(B)()),class:"btn-upd-coins"},"UPDATE COINS")])],64))}},p=s=>{const e=5e3*s*.8;return 8e4*s+e+8e4*s*.8};for(let s=0;s<5;s++)console.log(p(s));const C=(s,l)=>{let e=l,o=0;do{const a=p(e);console.log(a),s>=a?(o++,e++):e=100*100*100+410}while(e<100*100*100);return o},z=s=>{Swal.fire({title:"ADD COINS",input:"number",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,showLoaderOnConfirm:!0,preConfirm:l=>{const e=n.get("save"),o=e.cars.indexOf(e.cars.filter(d=>d.id==s)[0]);e.cars[o].exp+=parseInt(l);const a=C(e.cars[o].exp,e.cars[o].level);console.log(a),e.cars[o].level+=a,e.cars[o].coins+=a,_(e)}})},D=s=>{Swal.fire({title:"DEC COINS",input:"number",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,showLoaderOnConfirm:!0,preConfirm:l=>{const e=n.get("save"),o=e.cars.indexOf(e.cars.filter(d=>d.id==s)[0]);e.cars[o].exp-=parseInt(l);const a=C(e.cars[o].exp,1)+1;e.cars[o].coins-=e.cars[o].level-a,e.cars[o].level=a,_(e)}})},f=(s,l)=>{s=="add"?z(l):s=="dec"&&D(l)},L=(s,l)=>l/s*100,M=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"currentColor",class:"bi bi-arrow-left",viewBox:"0 0 16 16"},[t("path",{"fill-rule":"evenodd",d:"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8"})],-1),P=[M],T={class:"text-center"},U={class:"title"},H={id:"prog-cont"},R={class:"text-center",id:"progress-empty"},V={class:"label-prog",for:""},j={id:"car-img"},q=["src"],F={style:{"margin-bottom":"5%"}},Q=t("img",{class:"coins",src:"https://static.vecteezy.com/system/resources/thumbnails/010/851/211/small/3d-illustration-golden-money-coins-png.png",alt:""},null,-1),X={class:"coin-label",for:""},G={class:"text-center"},J=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"currentColor",class:"bi bi-plus-lg",viewBox:"0 0 16 16"},[t("path",{"fill-rule":"evenodd",d:"M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2"})],-1),K=[J],W=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"currentColor",class:"bi bi-dash",viewBox:"0 0 16 16"},[t("path",{d:"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8"})],-1),Y=[W],oe={__name:"Car",setup(s){const l=A(),e=l.params.marca,o=k.filter(c=>c.name==l.params.car)[0],a=o.url||"https://images5.alphacoders.com/929/929552.jpg";localStorage.getItem(n.get("API_NAME"))==null?_(n.get("save")):n.save("save",x());const d=n.get("save");d.cars.filter(c=>c.id==o.id)[0]==null&&(d.cars.push({id:o.id,exp:0,coins:0,updates:{},level:1}),n.save("save",d),_(n.get("save")));const u=d.cars.filter(c=>c.id==o.id)[0],h=S(()=>{const c=p(u.level-1);let r=p(u.level);r-=c;const v=u.exp-c;return console.log(u.exp),Math.floor(L(r,v))});return(c,r)=>(g(),b(w,null,[t("div",null,[t("button",{class:"back-btn btn",onClick:r[0]||(r[0]=v=>i(O)(i(e)))},P)]),t("div",T,[t("h3",U,m(i(o).name),1)]),t("div",null,[t("div",H,[t("div",R,[t("label",V,m(h.value)+"%",1)]),t("div",{id:"progress-fill",style:y(`width: ${h.value}%;`)},null,4)])]),t("div",j,[t("img",{style:{width:"100%"},src:i(a),alt:""},null,8,q)]),t("div",F,[Q,t("label",X,m(i(u).coins),1)]),t("div",G,[t("button",{onClick:r[1]||(r[1]=v=>i(f)("add",i(u).id)),class:"btn-add"},K),t("button",{onClick:r[2]||(r[2]=v=>i(f)("dec",i(u).id)),class:"btn-dec"},Y)]),I(E)],64))}};export{oe as default};
